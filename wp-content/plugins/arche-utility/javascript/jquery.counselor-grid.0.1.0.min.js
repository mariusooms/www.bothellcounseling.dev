!function(i,t,o,n){"use strict";function e(t,o){this.element=i(t),this.options=i.extend({},r,o),this.defaults=r,this.pluginName=s,this.init()}var s="counselorGrid",r={randomize:!0,interval:3e3,afterTouchInterval:5e3,transitionSpeed:1500,opacity:.4,autoPlay:!0};e.prototype={init:function(){var t,o=this,n=i.isFunction(jQuery().hoverIntent)?"hoverIntent":"hover";for(this.timeout=null,this.counselors=this.element.find("ul.counselor-grid-images>li"),this.counselors.find("a>img").css("opacity",this.options.opacity),this.index=-1,this.randomArray=[],t=this.counselors.length-1;t>=0;t-=1)this.randomArray[t]=t;this.namePlaceholder=this.element.find(".counselor-grid-info .counselor-grid-name"),this.servicesPlaceholder=this.element.find(".counselor-grid-info .counselor-grid-services"),this.counselorInfo=this.element.find(".counselor-grid-info"),this.randomizeArray(),this.highlightRandom(),this.counselors[n](function(){var t=i(this),n=o.counselors.index(t),e=o.counselors.eq(o.randomArray[o.index]);clearTimeout(o.timeout),o.transitionHighlight(e,t),o.index=o.randomArray.indexOf(n)},function(){o.options.autoPlay&&(o.timeout=setTimeout(function(){o.highlightRandom()},o.options.interval))}),this.counselorInfo[n](function(){clearTimeout(o.timeout)},function(){o.options.autoPlay&&(o.timeout=setTimeout(function(){o.highlightRandom()},o.options.interval))})},randomizeArray:function(){this.options.randomize&&this.randomArray.sort(function(){return.5-Math.random()})},highlightRandom:function(){var i=this,t=this.counselors.eq(this.randomArray[this.index]),o=null;this.index>=this.counselors.length-1&&(this.index=-1,this.randomizeArray()),this.index+=1,o=this.counselors.eq(this.randomArray[this.index]),this.transitionHighlight(t,o),i.options.autoPlay&&(this.timeout=setTimeout(function(){i.highlightRandom()},this.options.interval))},transitionHighlight:function(i,t){var o=this,n='<a href="'+t.find(">a").attr("href")+'">'+t.find(".counselor-grid-name").html()+"</a>";i.length&&i.find("a>img").stop().fadeTo(this.options.transitionSpeed,o.options.opacity),this.namePlaceholder.css("opacity",0).html(n).fadeTo(this.options.transitionSpeed,1),this.servicesPlaceholder.css("opacity",0).html(t.find(".counselor-grid-services").html()).fadeTo(this.options.transitionSpeed,1),t.find("a>img").stop().fadeTo(this.options.transitionSpeed,1),o.counselors.removeClass("counselor-grid-hover"),t.addClass("counselor-grid-hover")}},i.fn[s]=function(t){return this.each(function(){i.data(this,"plugin_"+s)||i.data(this,"plugin_"+s,new e(this,t))})}}(jQuery,window,document);